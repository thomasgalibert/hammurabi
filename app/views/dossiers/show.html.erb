<%= turbo_frame_tag :dossier_name do %>
  <h1 class="font-black text-3xl flex items-center space-x-2">
    <span class="inline-block"><%= @dossier.name %></span>
    <span class="inline-block">
      <%= link_to edit_dossier_path(@dossier, attribute: :name) do %>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 text-stone-500">
          <path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z" />
          <path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z" />
        </svg>
      <% end %>
    </span>
  </h1>
<% end %>

<div class="flex items-center space-x-2">
  <div><%= render "badge", state: @dossier.state %></div>
  <div>
    <span class="text-sm text-stone-500">
      <%= t('activerecord.attributes.dossier.created_at') %>
      <%= l(@dossier.created_at, format: :short) %>
    </span>
  </div>
</div>

<div class="grid grid-cols-2 mt-10 gap-4">
  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Résumé</h2>
    <p><%= simple_format @dossier.description %></p>
  </div>

  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Tâches</h2>
    <%= render @dossier.todos %>
  </div>

  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Dates d'audience</h2>
  </div>

  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Autres événements</h2>
    <div class="flow-root">
      <ul role="list" class="mt-4">
        <%= render @dossier.events %>
      </ul>
    </div>
  </div>

  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Pièces du dossier</h2>
    <%= render @dossier.documents %>
  </div>

  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Contacts</h2>
    <ul role="list" class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-2 mt-4">
      <%= render @dossier.contacts %>
    </ul>
  </div>

  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Conventions d'honoraires</h2>
  </div>

  <div class="p-4 bg-white rounded-md border shadow-sm col-span-2 sm:col-span-1">
    <h2 class="text-sm font-semibold text-stone-400">Factures</h2>
  </div>

</div>